(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{5794:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var a=r(6514),o=r(5834),s=r(6456),n=r.n(s),l=r(5129);function i(e){let{onLogin:t}=e,[r,s]=(0,o.useState)(""),[n,i]=(0,o.useState)(""),[d,c]=(0,o.useState)(!1),[m,g]=(0,o.useState)(""),u=async e=>{e.preventDefault(),c(!0),g("");try{let e=await l.R2.login(r,n);"success"===e.status?(localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.data.user)),t()):g(e.message)}catch(e){g("Login failed. Please try again.")}finally{c(!1)}};return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-xl p-8 border border-gray-700",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-[#f37121] to-orange-500 bg-clip-text text-transparent mb-2 text-center",children:"Login to Book Meeting Room"}),(0,a.jsx)("p",{className:"text-gray-400 text-center mb-6",children:"Access your meeting room booking dashboard"}),m&&(0,a.jsx)("div",{className:"bg-red-900/50 border border-red-700/50 text-red-200 px-4 py-3 rounded-lg mb-6",children:m}),(0,a.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>s(e.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#f37121] focus:border-transparent text-white placeholder-gray-400 transition-all duration-200",required:!0,placeholder:"Enter your username"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,a.jsx)("input",{type:"password",value:n,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#f37121] focus:border-transparent text-white placeholder-gray-400 transition-all duration-200",required:!0,placeholder:"Enter your password"})]}),(0,a.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-[#f37121] to-orange-500 hover:from-[#f37121] hover:to-[#e5651a] text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform ",children:d?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Logging in..."]}):"Login"})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gray-700/50 rounded-lg border border-gray-600",children:[(0,a.jsx)("p",{className:"font-medium text-[#f37121] text-sm mb-2",children:"Test Accounts:"}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"User 1:"}),(0,a.jsx)("span",{children:"user1 / password123"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"User 2:"}),(0,a.jsx)("span",{children:"user2 / password123"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Admin:"}),(0,a.jsx)("span",{children:"admin / admin123"})]})]})]})]})}class d{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}let c={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},m=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},g=async(e,t,r={})=>{let a=await fetch(c.origin+e,{method:"POST",headers:r,body:t}),o=await a.text(),s=new d(a.status,o);if(a.ok)return s;throw s},u=(e,t,r)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||"string"!=typeof r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},x=e=>e.webdriver||!e.languages||0===e.languages.length,h=()=>new d(451,"Unavailable For Headless Browser"),b=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;var r=e.list,a=e.watchVariable;if(!Array.isArray(r))throw"The BlockList list has to be an array";if("string"!=typeof a)throw"The BlockList watchVariable has to be a string";let o=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"==typeof o&&e.list.includes(o)},f=()=>new d(403,"Forbidden"),p=async(e,t,r)=>{let a=Number(await r.get(e)||0);return t-Date.now()+a},y=async(e,t,r)=>{if(!t.throttle||!r)return!1;((e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);let a=t.id||e;return await p(a,t.throttle,r)>0||(await r.set(a,Date.now().toString()),!1)},v=()=>new d(429,"Too Many Requests"),j={send:async(e,t,r,a)=>{let o=m(a),s=o.publicKey||c.publicKey,n=o.blockHeadless||c.blockHeadless,l=o.storageProvider||c.storageProvider,i={...c.blockList,...o.blockList},d={...c.limitRate,...o.limitRate};return n&&x(navigator)?Promise.reject(h()):(u(s,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(r),r&&b(i,r))?Promise.reject(f()):await y(location.pathname,d,l)?Promise.reject(v()):g("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"})}},w={SERVICE_ID:"service_i311hrs",TEMPLATE_ID:"template_xnrk0wq",PUBLIC_KEY:"qxwOsIvUcT67V-62A"};function N(e){let{onClose:t,onBookingSuccess:r,selectedDate:s,initialData:n,isEditMode:i=!1,bookingId:d}=e,[c,m]=(0,o.useState)(null),[g,u]=(0,o.useState)(null),[x,h]=(0,o.useState)(""),[b,f]=(0,o.useState)([]),[p,y]=(0,o.useState)(i?"details":"room"),[v,N]=(0,o.useState)([]),[k,S]=(0,o.useState)(!1),[T,_]=(0,o.useState)(""),[C,D]=(0,o.useState)(n||{startTime:"",endTime:"",numberOfAttendees:1,contactPerson:{name:"",phone:"",company:""},roomType:"small"}),P=[];for(let e=7;e<=22;e++)for(let t of[0,30]){let r=e>=12?"PM":"AM",a=0===e?12:e>12?e-12:e,o=new Date(s);o.setHours(e,t,0,0);let n=new Date(o);n.setHours(e,t,0,0),P.push({hour:e,minute:t,formatted:"".concat(a,":").concat(0===t?"00":"30"," ").concat(r),available:!0,start:o,end:n})}(0,o.useEffect)(()=>{if(R(),E(),n&&n.startTime&&n.endTime&&n.roomType){let e=new Date(n.startTime),t=new Date(n.endTime),r=P.find(t=>t.hour===e.getHours()&&t.minute===e.getMinutes()),a=P.find(e=>e.hour===t.getHours()&&e.minute===t.getMinutes());r&&m(r),a&&u(a),n.roomType&&h(n.roomType),D(n)}},[s,n]);let R=async()=>{try{let e=await l.Bn.getAvailableRooms();"success"===e.status&&(f(e.data.availableRooms),!i&&e.data.availableRooms.length>0&&(h(e.data.availableRooms[0].type),D(t=>({...t,roomType:e.data.availableRooms[0].type}))))}catch(e){console.error("Error loading available rooms:",e)}},E=async()=>{try{let e=await l.Bn.getAll();"success"===e.status&&N(e.data.bookings)}catch(e){console.error("Error loading bookings:",e)}},I=(e,t)=>{let r=new Date(s);return r.setHours(e.hour,e.minute,0,0),!v.some(e=>{if(i&&d&&e._id===d)return!1;let a=new Date(e.startTime),o=new Date(e.endTime);return e.roomType===t&&r>=a&&r<o})},B=async e=>{try{let t={to_email:"mohamedzaher.dev@gmail.com",to_name:"Admin",from_name:"Meeting Rooms Booking System",booking_date:s.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),start_time:c?O(c.start):"",end_time:g?O(g.start):"",duration:c&&g?M(c.start,g.start):"",room_type:"small"===x?"Small Room":"Large Room",room_capacity:"small"===x?"10 people":"30 people",number_of_attendees:e.numberOfAttendees,contact_person_name:e.contactPerson.name,contact_person_phone:e.contactPerson.phone,contact_person_company:e.contactPerson.company,booking_id:d||"NEW",booking_status:i?"Updated":"Confirmed"};await j.send(w.SERVICE_ID,w.TEMPLATE_ID,t,w.PUBLIC_KEY),console.log("Confirmation email sent successfully to admin")}catch(e){console.error("Failed to send confirmation email:",e)}},L=async e=>{e.preventDefault(),S(!0),_("");try{let e;if(e=i&&d?await l.Er.updateBooking(d,C):await l.Bn.create(C),"success"===e.status){try{await B(C)}catch(e){console.error("Email sending failed, but booking was successful:",e)}r(),t()}else _(e.message||"Something went wrong")}catch(e){console.error("Booking error:",e),_(i?"Failed to update booking":"Booking failed. Please try again.")}finally{S(!1)}},A=(e,t)=>{D(r=>({...r,contactPerson:{...r.contactPerson,[e]:t}}))},M=(e,t)=>{let r=t.getTime()-e.getTime(),a=Math.floor(r/36e5),o=Math.floor(r%36e5/6e4);return 0===a?"".concat(o," minutes"):0===o?"".concat(a," hour").concat(a>1?"s":""):"".concat(a," hour").concat(a>1?"s":""," ").concat(o," minutes")},O=e=>e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return"room"===p?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-2xl border border-gray-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-700",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold bg-gradient-to-r from-[#f37121] to-orange-500 bg-clip-text text-transparent",children:"Select Room Type"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Choose the meeting room that fits your needs"})]}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-[#f37121] text-2xl font-bold transition-colors duration-200",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:b.map(e=>(0,a.jsxs)("button",{onClick:()=>{var t;h(t=e.type),D(e=>({...e,roomType:t})),m(null),u(null)},className:"p-6 rounded-xl text-left transition-all duration-200 border-2 ".concat(x===e.type?"small"===e.type?"bg-green-500/20 border-green-400 shadow-lg shadow-green-500/20":"bg-blue-500/20 border-blue-400 shadow-lg shadow-blue-500/20":"bg-gray-700 border-gray-600 hover:border-gray-500 hover:bg-gray-600"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold ".concat(x===e.type?"small"===e.type?"text-green-300":"text-blue-300":"text-white"),children:e.name}),x===e.type&&(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm",children:"✓"})})]}),(0,a.jsx)("p",{className:"text-gray-300 text-sm mb-2",children:e.capacity}),(0,a.jsx)("div",{className:"text-xs ".concat(x===e.type?"text-gray-200":"text-gray-400"),children:"small"===e.type?"Perfect for small team meetings and discussions":"Ideal for large presentations and conferences"})]},e.type))}),0===b.length&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No rooms available for booking"}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:t,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-lg transition-all duration-200 border border-gray-600",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{if(!x)return void alert("Please select a room type");y("time")},disabled:!x,className:"px-6 py-3 bg-gradient-to-r from-[#f37121] to-orange-500 hover:from-[#e5651a] hover:to-orange-600 text-white font-medium rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 border border-orange-500/50",children:"Continue to Time Selection"})]})]})]})}):"time"===p?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-2xl border border-gray-700 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-700",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold bg-gradient-to-r from-[#f37121] to-orange-500 bg-clip-text text-transparent",children:"Select Time Slot"}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm mt-1",children:[s.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," ","- ","small"===x?"Small Room":"Large Room"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Available times: 7:00 AM - 10:00 PM"})]}),(0,a.jsx)("button",{onClick:()=>y("room"),className:"text-gray-400 hover:text-[#f37121] text-2xl font-bold transition-colors duration-200",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#f37121] mb-3",children:"Start Time"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-80 overflow-y-auto",children:P.map(e=>(0,a.jsx)("button",{onClick:()=>{x&&I(e,x)&&(m(e),u(null))},disabled:!I(e,x),className:"p-3 rounded-lg text-sm font-medium transition-all duration-200 border ".concat((null==c?void 0:c.hour)===e.hour&&(null==c?void 0:c.minute)===e.minute?"bg-[#f37121] border-[#f37121] text-white shadow-lg":I(e,x)?"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600 hover:text-white hover:border-gray-500":"bg-gray-800 border-gray-700 text-gray-500 cursor-not-allowed"),children:e.formatted},"".concat(e.hour,"-").concat(e.minute)))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#f37121] mb-3",children:"End Time"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-80 overflow-y-auto",children:(e=>{if(!e||!x)return P.filter(e=>I(e,x));let t=60*e.hour+e.minute;return P.filter(e=>60*e.hour+e.minute>t&&I(e,x))})(c).map(e=>(0,a.jsx)("button",{onClick:()=>(e=>{if(!c||!x||!I(e,x))return;let t=60*c.hour+c.minute;60*e.hour+e.minute>t&&u(e)})(e),className:"p-3 rounded-lg text-sm font-medium transition-all duration-200 border ".concat((null==g?void 0:g.hour)===e.hour&&(null==g?void 0:g.minute)===e.minute?"bg-[#f37121] border-[#f37121] text-white shadow-lg":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600 hover:text-white hover:border-gray-500"),children:e.formatted},"".concat(e.hour,"-").concat(e.minute)))})]})]}),(c||g)&&(0,a.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 mb-6 border border-gray-600",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Selected Time"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"From"}),(0,a.jsx)("p",{className:"text-xl font-bold text-white",children:null==c?void 0:c.formatted})]}),(0,a.jsx)("div",{className:"text-gray-400 mx-4",children:"→"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"To"}),(0,a.jsx)("p",{className:"text-xl font-bold text-white",children:(null==g?void 0:g.formatted)||"Select end time"})]})]}),c&&g&&(0,a.jsxs)("div",{className:"text-center mt-2",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Duration:"," ",M(c.start,g.start)]}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Room:"," ","small"===x?"Small Room":"Large Room"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,a.jsx)("button",{onClick:()=>y("room"),className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-lg transition-all duration-200 border border-gray-600",children:"Back to Room Selection"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:t,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-lg transition-all duration-200 border border-gray-600",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{if(!c||!g||!x)return void alert("Please select both start and end time");let e=new Date(c.start),t=new Date(g.start);D(r=>({...r,startTime:e.toISOString(),endTime:t.toISOString(),roomType:x})),y("details")},disabled:!c||!g,className:"px-6 py-3 bg-gradient-to-r from-[#f37121] to-orange-500 hover:from-[#e5651a] hover:to-orange-600 text-white font-medium rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 border border-orange-500/50",children:"Continue to Details"})]})]})]})]})}):(0,a.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-2xl border border-gray-700 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-700",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold bg-gradient-to-r from-[#f37121] to-orange-500 bg-clip-text text-transparent",children:i?"Edit Booking Details":"Booking Details"}),(0,a.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:[c&&O(c.start)," -"," ",g&&O(g.start)]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Duration:"," ",c&&g?M(c.start,g.start):"",(0,a.jsx)("br",{}),"Room: ","small"===x?"Small Room":"Large Room"]})]}),(0,a.jsx)("button",{onClick:()=>i?t():y("time"),className:"text-gray-400 hover:text-[#f37121] text-2xl font-bold transition-colors duration-200",children:"\xd7"})]}),T&&(0,a.jsx)("div",{className:"mx-6 mt-4 bg-red-900/50 border border-red-700/50 text-red-200 px-4 py-3 rounded-lg",children:T}),(0,a.jsxs)("form",{onSubmit:L,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Number of Attendees"}),(0,a.jsx)("input",{type:"number",value:C.numberOfAttendees,onChange:e=>D({...C,numberOfAttendees:parseInt(e.target.value)}),min:"1",max:"small"===x?"10":"30",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#f37121] focus:border-transparent text-white transition-all duration-200",required:!0}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Maximum ","small"===x?"10":"30"," attendees for"," ","small"===x?"small room":"large room"]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-700 pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#f37121] mb-4",children:"Contact Person"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:C.contactPerson.name,onChange:e=>A("name",e.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#f37121] focus:border-transparent text-white placeholder-gray-400 transition-all duration-200",required:!0,placeholder:"Enter full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",value:C.contactPerson.phone,onChange:e=>A("phone",e.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#f37121] focus:border-transparent text-white placeholder-gray-400 transition-all duration-200",required:!0,placeholder:"Enter phone number"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Company"}),(0,a.jsx)("input",{type:"text",value:C.contactPerson.company,onChange:e=>A("company",e.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#f37121] focus:border-transparent text-white placeholder-gray-400 transition-all duration-200",required:!0,placeholder:"Enter company name"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[!i&&(0,a.jsx)("button",{type:"button",onClick:()=>y("time"),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 border border-gray-600 hover:border-gray-500",children:"Back"}),(0,a.jsx)("button",{type:"submit",disabled:k,className:"".concat("flex-1"," bg-gradient-to-r from-[#f37121] to-orange-500 hover:from-[#e5651a] hover:to-orange-600 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-105 border border-orange-500/50"),children:k?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),i?"Updating...":"Booking..."]}):i?"Update Booking":"Confirm Booking"})]})]})]})})}var k=r(6585),S=r(6115);function T(){let[e,t]=(0,o.useState)([]),[r,s]=(0,o.useState)(!1),[d,c]=(0,o.useState)(!1),[m,g]=(0,o.useState)(null),[u,x]=(0,o.useState)(!0),[h,b]=(0,o.useState)(new Date),[f,p]=(0,o.useState)(new Date),[y,v]=(0,o.useState)("both");(0,o.useEffect)(()=>{j(),w();let e=setInterval(()=>{r&&T()},3e4);return()=>clearInterval(e)},[r]);let j=()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(s(!0),g(JSON.parse(t)))},w=async()=>{try{let e=await l.Bn.getAll();"success"===e.status&&t(e.data.bookings)}catch(e){console.error("Error fetching bookings:",e)}finally{x(!1)}},T=async()=>{try{let e=await l.Bn.getAll();"success"===e.status&&(t(e.data.bookings),b(new Date))}catch(e){console.error("Error fetching bookings:",e)}};return u?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#f37121] mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Loading Meeting Room..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-4",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-[#f37121]/10 via-transparent to-[#f37121]/5 blur-3xl pointer-events-none"}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto relative z-10",children:[(0,a.jsx)("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-xl p-6 mb-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-[#f37121] to-orange-500 bg-clip-text text-transparent",children:"Meeting Room Booking"}),(0,a.jsx)("p",{className:"text-gray-400 mt-2",children:"View and book available time slots"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Last updated: ",h.toLocaleTimeString()]})]}),r&&m&&(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[(0,a.jsxs)("span",{className:"text-gray-300 bg-gray-700/50 px-3 py-1 rounded-lg border border-gray-600",children:["Welcome, ",m.fullName]}),"admin"===m.role&&(0,a.jsx)(n(),{href:"/admin-dashboard",className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl border border-purple-500/50",children:"Admin Dashboard"}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),s(!1),g(null)},className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl border border-red-500/50",children:"Logout"})]})]})}),!r&&(0,a.jsx)(i,{onLogin:()=>{s(!0);let e=localStorage.getItem("user");e&&g(JSON.parse(e)),T()}}),r&&(0,a.jsx)("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl shadow-xl p-6 mb-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-[#f37121]",children:"Meeting Room Schedule"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:T,className:"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl border border-gray-500/50",children:"Refresh"}),(0,a.jsx)("button",{onClick:()=>c(!0),className:"bg-gradient-to-r from-[#f37121] to-orange-500 hover:from-[#e5651a] hover:to-orange-600 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 border border-orange-400/50",children:"Book Meeting Room"})]})]})}),r&&(0,a.jsx)(S.A,{selectedDate:f,onDateChange:p}),d&&(0,a.jsx)(N,{onClose:()=>c(!1),onBookingSuccess:()=>{c(!1),T()},selectedDate:f}),r&&(0,a.jsx)(k.A,{bookings:e,selectedDate:f,selectedRoomType:y,onRoomTypeChange:v,showRoomButtons:!0})]})]})}},9068:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/meeting-room",function(){return r(5794)}])}},e=>{e.O(0,[456,963,636,593,792],()=>e(e.s=9068)),_N_E=e.O()}]);